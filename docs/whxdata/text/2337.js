rh._.exports({"0":["Push Notifications","Push Notifications"],"1":["Objects - Async Push Notification Event"],"2":["push notifications,push,ev_push_notification"],"3":["\n  ","\n    ","\n    ","\n    ","\n      ","\n        ","Push Notifications","\n      ","\n      ","\n        ","Click here to see this page in full context","\n      ","\n    ","\n  ","\n  ","\n\n\n\n  ","\n  ","\n  ","The Push Notification Event is one that is triggered by the ","callback"," from ","push notifications","    on the device OS, either from a local source using the function ","push_local_notification()",", or\n    from a remote source (ie: your server). It generates a ","DS Map"," that is exclusive to this event and is stored in the special variable "," ","async_load"," ","    (please see the individual functions that trigger asynchronous events for code examples that explain the use of this event in further detail). This DS map has the following keys:","\n  ","\n    ","\"","type","\": Value can be \"local\" for a device local notification, \"remote\" for a remote notification, or \"register\" for remote notification registration.","\n    ","\"","status","\": Value will be \"1\" for success or \"0\" for an error.","\n  ","\n  ","There may be additional key entries based on the \"type\" returned and the \"status\" value. For \"status\", if an error has been returned (\"0\"), then you will also have the following key:","\n  ","\n    ","\"","error","\": Contains details of the error received.","\n  ","\n  ","If the \"status\" value is 1 (ie: no errors) then the DS map will contain the following additional values, depending on the value of the \"type\" key:","\n  ","\n    ","\"","reg_id","\": If the \"type\" received was \"register\", then this key will hold the device registration id for remote notifications.","\n    ","\"","data","\": If the \"type\" received was \"local\" or \"remote\", then this key will hold the string payload that you defined when you called the notification function.","\n  ","\n  ","To understand this better, we have created a small example snippet below for you to look at. In this example we will send a local push notification using the following code:","\n  ","var fireTime = date_inc_day(date_current_datetime(), 1);"," var data = \"daily_reward\";"," push_local_notification(fireTime, \"Ahoy!\", \"Catch The Haggis Has A Present\", data);","\n  ","This will set a timer to \"push\" a notification to the device when one day has passed. When the day is up, if your game is either in the background or not running, a notification will be shown to the user with the given title and message (on\n    iOS, the game name is shown and the title is ignored), and then an asynchronous Push Notification Event will be called. Note that if the game is in the foreground when the time for the notification comes, it will ","not ","be shown, ","but the asynchronous event will still trigger",".\n    In the event itself you would handle the callback something like this:","\n  ","var type = ds_map_find_value(async_load, \"type\");"," var status = ds_map_find_value(async_load, \"status\");"," if status == 0","    {","    //error of some kind","    var error = ds_map_find_value(async_load, \"error\");","     show_debug_message(\"error=\" + string(error));","    }"," else\n    ","    {","    if type == \"register\"","       {","       global.reg_id = ds_map_find_value(async_load, \"reg_id\");","       }","    else","     {","       var data = ds_map_find_value(async_load, \"data\");","             if data == \"daily_reward\"","          {","          global.Gold += 1000;","          }","       }","    }","\n  "," ","\n  "," ","\n  "," ","\n  ","\n    ","\n      ","\n        ","Back: ","Async Events","\n        ","Next: ","Save / Load","\n      ","\n    ","\n    ","\n  ","\n  ","\n  ","\n\n"],"4":["Push Notifications"],"5":["© Copyright YoYo Games Ltd. 2020 All Rights Reserved"],"id":"2337"})