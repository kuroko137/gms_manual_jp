<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "..";
    gCommonRootRelPath = "..";
    gTopicId = "5.2";
  
//]]></script>

  <script type="text/javascript" src="../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css" />
  <link rel="stylesheet" type="text/css" href="../template/Charcoal_Grey/topicheader.css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <title>オブジェクト</title>
  <meta name="topic-status" content="Draft" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>オブジェクト</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing how the object editor works" />
  <meta name="rh-index-keywords" content="Object Editor" />
  <meta name="search-keywords" content="objects,object editor" />
</head>

<body>
  <div class="topic-header rh-topicheader-hide" id="rh-topic-header" onclick="rh._.goToFullLayout()">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="オブジェクト">
        <span>オブジェクト</span>
      </div>
      <div class="gotohome" title="ページをすべて表示するにはここをクリック">
        <span>ページをすべて表示するにはここをクリック</span>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>オブジェクトエディタ</h1>
  <p><img alt="オブジェクトエディタ" class="center" src="../assets/Images/Asset_Editors/Editor_Objects.png" style="width: 100%; max-width: 788px;" />オブジェクトとは、ゲームをさまざまな面でコントロールしたり、特定の動作を取らせることができるリソースです。ほとんどのオブジェクトにはルーム内で表示されるようスプライトを割り当てることになりますが、ユーザーの操作に関わるものや、時間と連動するものなど、画面に表示されない制御用のオブジェクトとして扱う場合もあります。オブジェクトには動作を取らせたり、イベントや他のオブジェクトに反応させることができます。ゲーム内で目にするものの多くは、オブジェクトおよびオブジェクト同士のやり取りを元にしていることになります。ここで「元にしている」と言ったのは、オブジェクトはルームに配置するものではなく、実際にはそのコピーとも言える<strong>インスタンス</strong>を配置することになるからです。必ず覚えておいてもらいたいことは、インスタンスとオブジェクトは<em>同じものではなく</em>、それぞれに互いと影響する機能があるということです。</p>
  <p>分かりやすくするために、GameMaker Studio 2 で作られたゲームを想像してみましょう。キャラクター、モンスター、球体、壁といったあらゆるものは、<a href="../Introduction/The_Asset_Browser.htm">アセットブラウザ</a>から作成したオブジェクトだということです。<a href="Rooms.htm">ルームエディタ</a>を開き、<em>オブジェクト</em>をルームにドラッグしてみましょう。するとオブジェクトの基礎となるテンプレートをコピーした<em>インスタンス</em>が作成されます。ルームに置かれたインスタンスは、エディタまたはコードを通して変更することができ、拡大縮小したり、色をつけるなど、元となったオブジェクトから細かく変化を加えることができます。<strong>インスタンス</strong>への影響、変更といった内容の話になった場合は、<em>ルームに置かれたオブジェクトの 1 つのコピー</em>に影響するということになります。影響するのはその 1 つのインスタンスだけで、それ以外のインスタンスは影響しません。ただし、<strong>オブジェクト</strong>への影響、変更といった内容の場合、アセットブラウザのオブジェクトを変更するということになり、オブジェクトに加えた変更は既存のインタンスすべてに反映されることになります。要するに、オブジェクトとはインスタンスのテンプレート（ひな形）であり、そのインスタンスをルームに置くことでゲームを形作るということになります。</p>
  <p>ゲームのオブジェクトを作成するには、アセットブラウザを右クリック<img alt="[右クリックアイコン]" class="icon" src="../assets/Images/Icons/Icon_RMB.png" style="width: 100%; max-width: 21px;" />して「<em>オブジェクトを作成</em>」を選びましょう。ページの上部にある画像のウィンドウが開きます。このウィンドウは次の領域に分かれています。</p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down" href="#"><span data-open-text="true">詳細</span><span data-close-text="true">詳細</span></a></p>
  <div class="droptext" data-targetname="drop-down">
    <p class="dropspot">ここではオブジェクトに名前をつけることができます。オブジェクトの名前にはスペースや非対応の文字を入れることはできません（英数字および "_" 記号のみ使用できます）。また、覚えやすいようになるべく短い名前にするべきでしょう。そうすればオブジェクトが増えてきても、簡単に見分けられるようになります。一般的によく使われているのは、"<span class="inline">obj_Ship</span>" や "<span class="inline">Ship_obj</span>" のように、接頭語または接尾語（この例では obj_と_obj）を名前の間に入れるというものです。</p>
    <p class="dropspot">次は必要に応じて、オブジェクトのスプライトを指定しましょう。スプライトボックスを左クリック<img alt="[左クリックアイコン]" class="icon" src="../assets/Images/Icons/Icon_LMB.png" style="width: 100%; max-width: 21px;" />すると<strong>アセットエクスプローラー</strong>が開き、このように利用できるアセットブラウザのスプライトが一覧表示されます。</p>
    <p class="dropspot"><img alt="アセットエクスプローラー" class="center" src="../assets/Images/Asset_Editors/Editor_Objects_AssetExplorer.png" style="width: 100%; max-width: 795px;" />ここからオブジェクトに使わせたいスプライトを指定してください。オブジェクトにスプライトを割り当てると、<em>スプライト編集</em>ボタン<img alt="[スプライト編集アイコン]" class="icon" src="../assets/Images/Icons/Icon_EditSprite.png" style="width: 100%; max-width: 24px;" />をクリックして<a href="Sprites.htm">スプライトのプロパティ</a>を変更できるようになります。スプライトが用意されておらず、新しく作成したい場合は、<em>スプライト追加</em>ボタン<img alt="[スプライト追加アイコン]" class="icon" src="../assets/Images/Icons/Icon_NewSprite.png" style="width: 100%; max-width: 24px;" />をクリックすると新しいスプライトを作成してオブジェクトに割り当てることができます。また、割り当てたスプライトアセットのイメージは、<em>イメージ編集</em>ボタン<img alt="[イメージ編集アイコン]" class="icon" src="../assets/Images/Icons/Icon_EditImage.png" style="width: 100%; max-width: 24px;" />をクリックすると<a href="Image_Editor.htm">イメージエディタ</a>を開いて編集できます。</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#"><span data-open-text="true">コリジョンマスク</span><span data-close-text="true">コリジョンマスク</span></a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">スプライト割り当て領域の下にあるのは、特定の<strong>コリジョンマスク</strong>を指定するためのボタンです。デフォルトでは、オブジェクトのコリジョンプロパティは割り当てられたスプライトから生成されますが、スプライトとは異なる形状のコリジョンを割り当てたい場合もあるかもしれません。たとえば見下ろし型のゲームで、メインのスプライトを長方形コリジョンマスクにしている場合、円形マスクに変えてよりスムーズに衝突させたほうがいいかもしれません。そのようなときは、コリジョンマスクボタンをクリックして別のスプライトリソースを選択すると、オブジェクトのインスタンスをすでに割り当てたスプライトで<em>描画</em>しつつ、<em>コリジョン</em>を選択したスプライトのものにできます。コリジョンマスクについての詳細は<a href="Sprites.htm">スプライトエディタ</a>のページを参照してください。</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#"><span data-open-text="true">プロパティ</span><span data-close-text="true">プロパティ</span></a></p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">ここには次のオブジェクト設定が表示されます。<strong></strong></p>
    <ul class="dropspotlist">
      <li class="dropspot"><strong>可視</strong>: オブジェクトのインスタンスをルーム開始時に表示させるかどうかを表しています。通常はインスタンスを表示させますが、非表示にしたほうが都合のいい場合もあります。たとえばモンスターの動きをコントロールする参照地点としたり、値を監視したり、時間によってアクションを実行させるといったものがそうです。オブジェクトを不可視にしてもイベントには反応し、スプライトまたはマスクが割り当てられていれば、他のインスタンスが衝突した場合にも反応します。あくまで見えなくなるだけで、<em><strong>Draw イベント</strong>が実行されなくなることはありません</em>。デフォルトでは表示するようチェックされています。<strong></strong></li>
      <li class="dropspot"><strong>ソリッド</strong>: チェックするとインスタンスがソリッド化し、<strong>Collision イベント</strong>の作動前に衝突が解消されるようになります。この機能は非常に初歩的なもので、実際には Collision イベントのコードまたは DnD™ が実行される直前、インスタンスを衝突が検出されるより前の位置に戻しているだけであり、限られた場面でしか使えません。</li>
      <li class="dropspot"><strong>永続的</strong>: 永続的にしたオブジェクトは、ルームの変更時に消えるのではなく、新しいルームに持ち越される持続的なオブジェクトとなります。破棄アクションまたはコードによって明示的に破棄した場合にのみ消失します。つまりルームに永続的オブジェクトを置くと、以降のすべてのルームにおいても利用可能なオブジェクトとなり、オブジェクトプロパティのイベントに割り当てられたアクションを実行し続けます。ただし <strong>Create イベント</strong>だけは<em>例外</em>で、最初に生成されてから<em>一度だけ</em>発生し、ルームの変更時には何も起こりません。たとえばルーム間を移動し、インスタンスの変数を保ちたいメインキャラクターなどがいる場合に便利ですが、永続的オブジェクトの生成、破棄は適切に行うよう細心の注意を払ってください。もし誤りがあれば、プロジェクトにエラーが紛れ込みやすくなります。</li>
    </ul>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down7" href="#" style="margin-left:88px"><span data-open-text="true">永続的フラグとルームレイヤー</span><span data-close-text="true">永続的フラグとルームレイヤー</span></a>  </p>
    <div class="droptext" data-targetname="drop-down7">
      <p class="dropspot" style="margin-left: 132px">永続的にしたインスタンスがルームに生成されると、レイヤーまたは深度が割り当てられます（オブジェクトのインスタンスをどの関数で生成したかによって異なります）。ルームの変更時、前のルームと同じ名前、または同じ深度のレイヤーがない場合、<strong>ルームを越えて持続しているインスタンスのために新しいレイヤーが生成されます</strong>。インスタンスの生成時に名前つきのレイヤーを指定した場合、新しいレイヤーの名前は元レイヤーと同じになります。インスタンスに深度を割り当てた場合、新しいレイヤーの名前は "<span class="inline">_layer_XXX</span>" のようになります。この "<span class="inline">XXX</span>" は 16 進数で、レイヤーの名前が他と同じにならないよう付加されます。これらのレイヤーは、<strong>Room End</strong> の時点でルームから削除されます。<br /><br />レイヤーと永続的インスタンスについては他にも注意しておきたい点があり、インスタンスが生成時に名前つきレイヤーに割り当てられており、以降の部屋に同じ名前のレイヤーがあった場合、永続的インスタンスは深度を無視して同じ名前のレイヤーに割り当てられます。<br /><br />最後に、永続的インスタンスが生成時と<em>同じ</em>深度のレイヤーがあるルームに移動した場合、そのレイヤーに<em>割り当てられるのではなく</em>、同じ深度の新しいレイヤーが作成されます（命名規則は上述のとおりです）。</p>
    </div>
    <p class="dropspot"><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down6" href="#" style="margin-left: 88px"><span data-open-text="true">永続的フラグとイベント</span><span data-close-text="true">永続的フラグとイベント</span></a></p>
    <div class="droptext" data-targetname="drop-down6">
      <p class="dropspot" style="margin-left: 132px">前述したように、永続的オブジェクトでは <strong>Create イベント</strong>が<em>一度しか</em>実行されませんが、<strong>Game Start</strong> 、<strong>Game End</strong> 、<strong>Room Start</strong> 、<strong>Room End</strong> イベントはそれぞれのタイミングで実行されます。ただし <span class="inline">game_restart()</span>関数などによってゲームをリスタートした場合、<em>永続的オブジェクトはすべて削除され、ゲームによって再生成されるまでは存在しなくなります</em>。<br /><br />また、永続的オブジェクトを<strong>非アクティブ</strong>にした場合、<strong>Room End</strong> イベントが作動する前に再アクティブ化しなければ別のルームに移動しなくなります。再アクティブにするには<em>ゲームの 1 ステップすべてが必要となるため</em>、<strong>Room End</strong> イベントで再アクティブにしようとしても、1 ステップすべてを使えないために無効となります。永続的オブジェクトを非アクティブにするときは、その点を踏まえてコードを書いてください。</p>
    </div>
    <ul class="dropspotlist">
      <li class="dropspot"><strong>物理を使用</strong>: 物理を使用にチェックすると、オブジェクトが GameMaker Studio 2 によって物理世界（<strong></strong><a href="Rooms.htm">ルームエディタ</a>で設定）に組み込まれます。また、チェックすると新しいウィンドウが隣に開き、オブジェクトの各インスタンスの物理プロパティを定義できます。詳細については<a href="Object_Properties/Physics_Objects.htm">物理オブジェクト</a>の該当項目を参照してください。</li>
    </ul>
  </div>
  <p> </p>
  <p>オブジェクトエディタの残りの部分についてはオブジェクトの各<strong>オプション</strong>で扱われており、以下のページで説明されています。</p>
  <ul class="colour">
    <li><a href="Object_Properties/Object_Events.htm">オブジェクトイベント</a></li>
    <li><a href="Object_Properties/Parent_Objects.htm">親オブジェクト</a></li>
    <li><a href="Object_Properties/Physics_Objects.htm">物理オブジェクト</a></li>
    <li><a href="Object_Properties/Object_Variables.htm">オブジェクト変数</a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">戻る: <a href="The_Asset_Editors.htm">アセットエディタ</a></div>
        <div style="float:right">次へ: <a href="Paths.htm">パス</a></div>
      </div>
    </div>
    <h5>© Copyright YoYo Games Ltd. 2020 All Rights Reserved</h5>
  </div>
  <!-- KEYWORDS
Object Editor
Objects
-->
  <!-- TAGS
object_editor
-->

</body></html>