Broadcast_Messages.htm+html.head.title:55-3,Broadcast_Messages,ブロードキャストメッセージ
Broadcast_Messages.htm+html.head.title:59-3,Broadcast Messages,ブロードキャストメッセージ
Broadcast_Messages.htm+html.body.div.div.div[title]:73-7,Broadcast_Messages,ブロードキャストメッセージ
Broadcast_Messages.htm+html.body.div.div.div:73-7,Broadcast_Messages,ブロードキャストメッセージ
Broadcast_Messages.htm+html.body.h1:86-3,Broadcast Messages,ブロードキャストメッセージ
Broadcast_Messages.htm+html.body.p:87-3,"Both <a href=""../Sequences.htm"">Sequences</a> and <a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprites.htm"">Sprites</a> can generate what are called <strong>broadcast messages</strong> at any point along their length. These messages are simple strings that are added to specific frames along the animation timeline, and when that point in the timeline is reached, then the string will be broadcast out to all instances that listen for it. Any instance that has a <a href=""../Object_Properties/Other_Events.htm"">Broadcast Message Event</a> (found in the ""<strong>Other</strong>"" event category) will receive the message string when it is reached in the timeline, at which point it's up to you to have some code that will parse it and react accordingly. Note too that sequences can also listen for broadcast messages, but this requires you to first set up the listener method using code (see the GML section on <a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm"">Sequence Events And Moments</a> for more information).","<a href=""../Sequences.htm"">シーケンス</a>および<a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprites.htm"">スプライト</a>は任意の位置に<strong>ブロードキャストメッセージ</strong>というものを生成できます。このメッセージはタイムラインの指定したフレームに追加できる文字列であり、タイムラインがその位置まで進むと、メッセージを受け取るインスタンスにその文字列が送信されます。<a href=""../Object_Properties/Other_Events.htm"">Broadcast Message Event</a>（""<strong>Other</strong>"" イベントのカテゴリにあります）をもつすべてのインスタンスは、タイムラインが追加位置まで進められた時点でメッセージの文字列を受信します。必要に応じて、メッセージを解析して応答させるコードを用意するといいでしょう。なお、シーケンスもブロードキャストメッセージを受信できますが、あらかじめコードから受信方式をセットアップする必要があります（詳しくは<a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm"">シーケンスと移動</a>のGMLセクションを参照してください）。"
Broadcast_Messages.htm+html.body.p:91-3,To add a Broadcast Message to the sequence or sprite timeline you simply click the <img_tag=Broadcast_Message_Button_Icon:0> button. This will open a dialog where you can add the message to be broadcast:,シーケンス、スプライトのタイムラインにブロードキャストメッセージを追加するには<img_tag=Broadcast_Message_Button_Icon:0>ボタンをクリックします。ダイアログが開きますので、メッセージを入力してください。
Broadcast_Messages.htm+html.body.p.img[alt]:93-23,{IMG_TXT} Add A broadcast message to a sequence,{IMG_TXT} シーケンスにブロードキャストメッセージを追加
Broadcast_Messages.htm+html.body.p:94-3,"Once added, the message will be shown in the Dope Sheet (or in the sprite frame view). To edit it, you must click the right mouse button <img_tag=RMB_Icon:0> on the message icon to open a list of all the messages that overlap the frame (there can only be one message on a frame, but placing multiple messages on consecutive frames will cause them to overlap visually, making it harder to select the one you want and you can have a message and a <a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm"">moment</a> on the same frame too), and then selecting one from this list will open the message dialog where you can edit it or remove it.","追加したメッセージはドープシート（およびスプライトフレームビュー）に表示されます。編集する場合、メッセージのアイコンを右クリック<img_tag=RMB_Icon:0>すると、そのフレームにまたがっているすべてのメッセージがリスト表示されます（1フレームに置けるメッセージは1つだけですが、複数のメッセージが連続してフレームに置かれていると表示が重なってしまい、特定のメッセージを選択するのが難しくなります。この点は<a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm"">モーメント</a>も同じです）。リストからメッセージを選択すると、ダイアログが開いてメッセージを入力または削除できます。"
Broadcast_Messages.htm+html.body.p:98-3,"When a Broadcast Message event is triggered, there will be a special <a href=""../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm"">DS Map</a> created and stored in the built-in variable <span class=""inline"">event_data</span>. This variable ID is a built-in <em>global </em>scope variable, but will only contain DS map data in the event that triggered it - in this case the Broadcast Message event - and will return -1 at all other times. The keys that the event will have are as follows:","Broadcast Messageイベントが作動すると専用の<a href=""../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm"">DSマップ</a>が作成され、組み込み変数<span class=""inline"">event_data</span>に保存されます。この変数IDは組み込み<em>グローバル</em>スコープ変数となりますが、作動したイベント（この場合はBroadcast Messageイベント）内でのみDSマップデータが保存され、それ以外のイベントでは-1が返されます。このイベントは次のキーを受け取ります。"
Broadcast_Messages.htm+html.body.ul.li:102-5,"""<span class=""inline"">event_type</span>"": For a broadcast message this will be the string ""<span class=""inline"">sequence event</span>"" for a message sent from a sequence and ""<span class=""inline"">sprite event</span>"" for a message sent from a sprite.","""<span class=""inline"">event_type</span>"": ブロードキャストメッセージではシーケンスから送信されたメッセージは文字列""<span class=""inline"">sequence event</span>""に、スプライトから送信されたメッセージは文字列""<span class=""inline"">sprite event</span>""になります。"
Broadcast_Messages.htm+html.body.ul.li:104-5,"""<span class=""inline"">message</span>"": This key contains the message string that has been received.","""<span class=""inline"">message</span>"": 受信したメッセージの文字列が入れられるキーです。"
Broadcast_Messages.htm+html.body.ul.li:105-5,"""<span class=""inline"">element_id</span>"": This key returns the ID of the element (sequence/sprite/instance) on a layer in the room editor. You can then use this ID value to find out what kind of element generated the message using the function <a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm""><span class=""inline"">layer_get_element_type()</span></a> and to use the other relevant functions to target it, or perform an action like play a sound, as required.","""<span class=""inline"">element_id</span>"": ルームエディタのレイヤー内要素（シーケンス/スプライト/インスタンス）のIDを返すキーです。このIDを<a href=""../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm""><span class=""inline"">layer_get_element_type()</span></a>関数で指定すると、どのタイプの要素がメッセージを生成したかを調べることができます。また、類似するほかの関数の対象としたり、あるいはサウンド再生などのアクションを実行させることも可能です。"
Broadcast_Messages.htm+html.body.p:109-3,"Note that the broadcast message event of an instance will recieve multiple strings for each of the times a broadcast message is sent. You do not need to act on all of them, and can have different instances listening for different broadcast strings. However, you may have an instance that is listening for messages that may be recieved at the same time. When this happens, the event will be triggered multiple times - <em>once for each message string</em>.",インスタンスのbroadcast messageイベントは、あらゆるブロードキャストメッセージの文字列を送信されるたびに受信します。そのすべてに応答させる必要はなく、インスタンスにはそれぞれ別の文字列を受け取らせておくことができます。しかし、インスタンスがまったく同じタイミングで複数のメッセージを受け取ることがあるかもしれません。そうした場合、このイベントは<em>メッセージ文字列1つ</em>ごとに1度作動します。
Broadcast_Messages.htm+html.body.p:111-3,Below is a brief example of how this event can be checked:,以下はイベントをチェックする方法の簡単な例です。
Broadcast_Messages.htm+html.body.p:112-3,"{ANY_CODE} if event_data[? ""event_type""] == ""sequence event""<br /> { <br /> switch (event_data[? ""message""])<br /> {nbsp_x1} {nbsp_x1} {<br /> {nbsp_x1} {nbsp_x1} case ""hit"":<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} audio_play_sound(snd_hit, 0, false);<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} break;<br /> {nbsp_x1} {nbsp_x1} case ""destroy"":<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} sequence_destroy(event_data[? ""element_id""]);<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} break;<br /> {nbsp_x1} {nbsp_x1} }<br /> }","{ANY_CODE} if event_data[? ""event_type""] == ""sequence event""<br /> { <br /> switch (event_data[? ""message""])<br /> {nbsp_x1} {nbsp_x1} {<br /> {nbsp_x1} {nbsp_x1} case ""hit"":<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} audio_play_sound(snd_hit, 0, false);<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} break;<br /> {nbsp_x1} {nbsp_x1} case ""destroy"":<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} sequence_destroy(event_data[? ""element_id""]);<br /> {nbsp_x1} {nbsp_x1} {nbsp_x1} {nbsp_x1} break;<br /> {nbsp_x1} {nbsp_x1} }<br /> }"
Broadcast_Messages.htm+html.body.div.div.div.div:121-9,"Back: <a href=""../Sequences.htm"">Sequences</a>","戻る: <a href=""../Sequences.htm"">シーケンス</a>"
Broadcast_Messages.htm+html.body.div.div.div.div:122-9,"Next: <a href=""The_Sequence_Canvas.htm"">The Sequence Canvas</a>","次へ: <a href=""The_Sequence_Canvas.htm"">シーケンスキャンバス</a>"
Broadcast_Messages.htm+html.body.p:135-1,{SEARCH_RESULT} Page detailing the dope sheet,{SEARCH_RESULT} ドープシートの詳細ページ
Broadcast_Messages.htm+html.body.p:135-53,{INDEX_KEYWORD} Sequences - Broadcast Messages,{INDEX_KEYWORD} シーケンス - ブロードキャストメッセージ
Broadcast_Messages.htm.img_tag+Broadcast_Message_Button_Icon:0,{IMG_TXT} Broadcast Message Button Icon,{IMG_TXT} ブロードキャストメッセージボタンのアイコン
Broadcast_Messages.htm.img_tag+RMB_Icon:0,{IMG_TXT} RMB Icon,{IMG_TXT} 右クリックアイコン
