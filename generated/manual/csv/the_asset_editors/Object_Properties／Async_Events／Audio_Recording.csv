Audio_Recording.htm+html.head.title:55-3,Audio Recording,Audio Recording
Audio_Recording.htm+html.head.title:59-3,Audio Recording,Audio Recording
Audio_Recording.htm+html.body.div.div.div[title]:73-7,Audio Recording,Audio Recording
Audio_Recording.htm+html.body.div.div.div:73-7,Audio Recording,Audio Recording
Audio_Recording.htm+html.body.h1:86-3,Audio Recording,Audio Recording
Audio_Recording.htm+html.body.p.img[alt]:87-6,{IMG_TXT} Audio Recording Event,{IMG_TXT} Audio Recordingイベント
Audio_Recording.htm+html.body.p:87-3,"This event can only be triggered by the <a href=""../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio_Buffers/audio_start_recording.htm""><span class=""inline"">audio_start_recording()</span></a> function and will return a <a href=""../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm"">DS Map</a> stored in the variable <a href=""../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm""><span class=""inline"">async_load</span></a>, containing different key/value pairs depending on the <a class=""tooltip"" title=""TITLE_KEY::callback"">callback</a> from the function that has triggered the event.","このイベントは<a href=""../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio_Buffers/audio_start_recording.htm""><span class=""inline"">audio_start_recording()</span></a>関数によってのみ作動し、<a href=""../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm""><span class=""inline"">async_load</span></a>変数に格納された<a href=""../../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm"">DSマップ</a>を返します。このDSマップにはイベントを作動させた関数の<a class=""tooltip"" title=""TITLE_KEY::callback"">コールバック</a>に応じたキー/値ペアが含まれています。"
Audio_Recording.htm+html.body.p:90-3,The following keys will be available in the ds_map:,以下はds_mapにおいて利用可能なキーです。
Audio_Recording.htm+html.body.ul.li:92-5,"""<span class=""inline"">buffer_id</span>"" - the ID of the temporary <a href=""../../../GameMaker_Language/GML_Reference/Buffers/Buffers.htm"">buffer</a> you can use to retrieve the audio data","""<span class=""inline"">buffer_id</span>"" -オーディオデータを取得するために利用できる一時<a href=""../../../GameMaker_Language/GML_Reference/Buffers/Buffers.htm"">バッファ</a>のIDです。"
Audio_Recording.htm+html.body.ul.li:93-5,"""<span class=""inline"">channel_index</span>"" - the recording channel index as returned by the calling function that this data came from","""<span class=""inline"">channel_index</span>"" - データの元である呼び出し関数から返される録音チャンネルのインデックスです。"
Audio_Recording.htm+html.body.ul.li:94-5,"""<span class=""inline"">data_len</span>"" - the length of data (in bytes) you've received","""<span class=""inline"">data_len</span>"" - 受信したデータの長さです（バイト単位）。"
Audio_Recording.htm+html.body.p:96-3,"<strong>NOTE</strong>: As mentioned at the start of this page, the variable <span class=""inline"" style=""font-size: 14px"">async_load </span>is only valid in the asynchronous events, as the DS map that is points to is created at the start of the event, then deleted again at the end. However, note that the temporary buffer in which all audio is stored with the map will also be removed at the end of the event so you should copy it to a custom buffer if you want to keep it for later use.","<strong>注意</strong>: ページの先頭で説明したように<span class=""inline"" style=""font-size: 14px"">async_load</span>変数はAsynchronousイベントでのみ有効となり、参照先となるDSマップはイベント開始時に自動で生成、終了時に破棄され、その他のときは変数の値が -1にリセットされます。ただしマップと同時に格納され、すべてのオーディオが含まれる一時バッファはイベント終了時に削除されるため、後で利用する場合は専用のバッファにコピーしなくてはなりません。"
Audio_Recording.htm+html.body.p:98-3,"In the usage example below we will create a custom buffer to store our recorded audio, and also set our game to record from input source 0:",以下の例では録音されたオーディオを保存する専用のバッファを作成し、入力ソース0からゲーム側で録音するよう設定しています。
Audio_Recording.htm+html.body.p:99-3,"{ANY_CODE} channel_index = audio_start_recording(0);<br /> audio_buffer = buffer_create(len, buffer_fast, 1);","{ANY_CODE} channel_index = audio_start_recording(0);<br /> audio_buffer = buffer_create(len, buffer_fast, 1);"
Audio_Recording.htm+html.body.p:100-3,Every game step now that the recording is detected will trigger an asynchronous Audio Recording event where you can deal with the recorded input something like this:,録音が検出されるとゲームステップごとにAsynchronous Audio Recordingイベントが作動し、このように録音された入力を処理できます。
Audio_Recording.htm+html.body.p:101-3,"{ANY_CODE} var channel = async_load[? ""channel_index""];<br /> if channel == channel_index<br /> {nbsp_x1} {nbsp_x1}{<br /> {nbsp_x1} {nbsp_x1}len = async_load[? ""data_len""];<br /> {nbsp_x1} {nbsp_x1}buffer_copy(async_load[? ""buffer_id""], 0, len, audio_buffer, 0);<br /> {nbsp_x1} {nbsp_x1}}","{ANY_CODE} var channel = async_load[? ""channel_index""];<br /> if channel == channel_index<br /> {nbsp_x1} {nbsp_x1}{<br /> {nbsp_x1} {nbsp_x1}len = async_load[? ""data_len""];<br /> {nbsp_x1} {nbsp_x1}buffer_copy(async_load[? ""buffer_id""], 0, len, audio_buffer, 0);<br /> {nbsp_x1} {nbsp_x1}}"
Audio_Recording.htm+html.body.p:102-3,"Here we simply check the ""channel_index"" key to make sure it matches the value returned when we started recording, and if it does we copy the contents of the temporary buffer created for this event into our custom buffer. After that you can do what you want with the custom buffer - you could play it using the dedicated buffer audio functions, you could process it and send it over the network, you could save it to disk... Once you have your recorded audio in a buffer, you can do basically anything you want.","ここでは""channel_index""キーが録音開始時に返される値と一致していることを確認し、一致していればこのイベント用に作成された一時バッファの内容をカスタムバッファにコピーします。これで専用バッファを自由に利用できるようになり、専用のバッファオーディオ関数から再生したり、処理してからネットワーク経由で送信したり、ディスク上に保存するなど、録音したオーディオをバッファに入れてしまえば、ほとんど何でもできるようになります。"
Audio_Recording.htm+html.body.div.div.div.div:111-9,"Back: <a href=""../Async_Events.htm"">Async Events</a>","戻る: <a href=""../Async_Events.htm"">Asyncイベント</a>"
Audio_Recording.htm+html.body.div.div.div.div:112-9,"Next: <a href=""Cloud.htm"">Cloud</a>","次へ: <a href=""Cloud.htm"">Cloud</a>"
Audio_Recording.htm+html.body.p:125-1,{SEARCH_RESULT} Page detailing the Audio Recording async event.,{SEARCH_RESULT} Async Audio Recordingイベントの詳細ページ
Audio_Recording.htm+html.body.p:125-71,{INDEX_KEYWORD} Objects - Async Audio Recording Event,{INDEX_KEYWORD} オブジェクト - Async Audio Recordingイベント
