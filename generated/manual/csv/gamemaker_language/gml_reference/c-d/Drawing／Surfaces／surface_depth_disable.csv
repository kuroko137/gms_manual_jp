surface_depth_disable.htm+html.head.title:55-3,surface_depth_disable
surface_depth_disable.htm+html.head.title:59-3,surface_depth_disable
surface_depth_disable.htm+html.body.div.div.div[title]:73-7,surface_depth_disable
surface_depth_disable.htm+html.body.div.div.div:73-7,surface_depth_disable
surface_depth_disable.htm+html.body.h1:86-3,surface_depth_disable
surface_depth_disable.htm+html.body.p:87-3,"This function disables the automatic depth buffer generation for <i>all</i> surfaces that are created after it has been disabled. Normally all surfaces have depth buffers so if you draw 3D objects to them then it'll sort them properly by depth in order to maintain functional parity between rendering to surfaces and rendering to the back buffer, however allocating depth buffers essentially doubles the amount of memory required for surfaces, which could be an excessive and unnecessary overhead especially if your game is very memory intensive, and for 2D games they aren't generally required."
surface_depth_disable.htm+html.body.p:90-3,"To use this function you would call it <i>before</i> creating a surface, and then you can enable it again after (if required). All surfaces created when the depth buffer is disabled will no longer use a depth buffer when being drawn to, this results in the things being drawn to the surface having parity of depth. The images below illustrate this in practice:"
surface_depth_disable.htm+html.body.p.img[alt]:92-6,{IMG_TXT} Surface depth buffer example
surface_depth_disable.htm+html.body.p:92-3,"In the above image, we are drawing a rectangle and a triangle using a vertex buffer in 3D. The coordinates for the red triangle places it behind the green rectangle, but the code for drawing the triangle is called <i>after</i> the code for the rectangle, and when the depth buffer is enabled, the triangle is still drawn behind the rectangle as the 3D depth is being respected. However when we disable the depth buffer for the surface, only the code order is respected and so the triangle is drawn over the rectangle."
surface_depth_disable.htm+html.body.p:95-3,"<b>NOTE</b>: To properly preserve depth in 3D when using surfaces, not only should you have the depth buffer enabled, but you should also have z-writing and z-testing enabled. See the functions <a href=""../GPU_Control/gpu_get_ztestenable.htm""><tt><span style=""font-size:14px;"">gpu_set_ztestenable()</span></tt></a> and <a href=""../GPU_Control/gpu_get_zwriteenable.htm""><tt><span style=""font-size:14px;"">gpu_set_zwriteenable()</span></tt></a> for more information."
surface_depth_disable.htm+html.body.p:96-3,"<b>NOTE</b>: If your game is 100% 2D or you know that you don't need a surface depth buffer, then it should be fine to simply call this function once at the start of the game to disable the buffer."
surface_depth_disable.htm+html.body.h4:98-3,Syntax:
surface_depth_disable.htm+html.body.p:99-3,surface_depth_disable(disable);
surface_depth_disable.htm+html.body.table.tbody.tr.th:103-9,Argument
surface_depth_disable.htm+html.body.table.tbody.tr.th:104-9,Description
surface_depth_disable.htm+html.body.table.tbody.tr.td:107-9,disable
surface_depth_disable.htm+html.body.table.tbody.tr.td:108-9,If set to <tt>true</tt> the depth buffer will be disabled for created surfaces.
surface_depth_disable.htm+html.body.h4:113-3,Returns:
surface_depth_disable.htm+html.body.p:114-3,N/A
surface_depth_disable.htm+html.body.h4:116-3,Example:
surface_depth_disable.htm+html.body.p:117-3,"{ANY_CODE} var _depth_setting = surface_get_depth_disable();<br /> surface_depth_disable(false); <br /> surface_with_depth = surface_create(room_width, room_height);<br /> surface_depth_disable(true); <br /> surface_without_depth = surface_create(room_width, room_height);<br /> surface_depth_disable(_depth_setting);"
surface_depth_disable.htm+html.body.p:121-3,"The above code stores the current depth buffer setting in a variable and then creates two surfaces, one with depth buffering enabled and one without, before restoring the original setting again."
surface_depth_disable.htm+html.body.div.div.div.div:128-9,"Back: <a href=""Surfaces.htm"">Surfaces</a>"
surface_depth_disable.htm+html.body.div.div.div.div:129-9,"Next: <a href=""surface_get_height.htm"">surface_get_height</a>"
surface_depth_disable.htm+html.body.p:141-1,{SEARCH_RESULT} Reference for surface_depth_disable
