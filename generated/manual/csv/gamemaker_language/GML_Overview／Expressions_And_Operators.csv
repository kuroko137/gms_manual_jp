Expressions_And_Operators.htm+html.head.title:55-3,Expressions And Operators
Expressions_And_Operators.htm+html.head.title:59-3,Expressions And Operators
Expressions_And_Operators.htm+html.body.div.div.div[title]:73-7,Expressions And Operators
Expressions_And_Operators.htm+html.body.div.div.div:73-7,Expressions And Operators
Expressions_And_Operators.htm+html.body.h1:86-3,Expressions And Operators
Expressions_And_Operators.htm+html.body.p:87-3,"An expression is a mathematical phrase that can contain ordinary numbers, variables, strings, or functions as well as one or more <strong>operators </strong>(like add, subtract, multiply, etc...). The values used in an expression can be real numbers (e.g. <span class=""inline"">3.4 * 6</span>), hexadecimal numbers starting with a <span class=""inline"">$</span> sign (e.g. <span class=""inline"">$00FFAA | $88FFAA</span>), strings between double quotes (e.g. <span class=""inline"">""hello""</span> + <span class=""inline"">""world""</span>) or more complicated expressions using multiple operators and values."
Expressions_And_Operators.htm+html.body.p:89-3,"For expressions, the following operators exist (in order of priority):"
Expressions_And_Operators.htm+html.body.p:91-3,"<span data-open-text=""true"">Assigning (=)</span><span data-close-text=""true"">Assigning (=)</span>"
Expressions_And_Operators.htm+html.body.div.p:93-5,"<b>=</b> - Used to assign a value to a variable. Note that this can <i>also</i> be used for comparing variables in GameMaker Studio 2 and you may see this in examples and other peoples codes. However, this is a legacy from old <i>GameMaker</i> versions and you should use the <b>==</b> operators for comparing and <b>=</b> for assigning, as shown in these examples:"
Expressions_And_Operators.htm+html.body.div.p:95-5,{ANY_CODE} a = 12;<br /> speed = 5;<br /> val = (old_val + 5);
Expressions_And_Operators.htm+html.body.p:98-3,"<span data-open-text=""true"">Combining (&amp;&amp;, ||, ^^)</span><span data-close-text=""true"">Combining (&amp;&amp;, ||, ^^)</span>"
Expressions_And_Operators.htm+html.body.div.p:100-5,"<b>&amp;&amp;, ||, ^^ (and, or and xor)</b> - Combine Boolean values to give either true or false. If any of the following examples resolves to <tt>true</tt> then the code would be run:"
Expressions_And_Operators.htm+html.body.div.p:101-5,{ANY_CODE} if (a == b &amp;&amp; c == d) {do something...} {nbsp_x1}// and<br /> if (a == b || c ==d) {do something...} {nbsp_x2}// or<br /> if (a == b ^^ c == d) {do something...} {nbsp_x1}// xor
Expressions_And_Operators.htm+html.body.p:104-3,"<span data-open-text=""true"">Comparing (&lt;, &lt;=, ==, !=, &gt;, &gt;=)</span><span data-close-text=""true"">Comparing (&lt;, &lt;=, ==, !=, &gt;, &gt;=)</span>"
Expressions_And_Operators.htm+html.body.div.p:106-5,"<b>&lt;, &lt;=, ==, !=, &gt;, &gt;=</b> - These are comparisons and can only give a <tt>true</tt> or <tt>false</tt> result (where true can also be interpreted as 1, and false as 0). Examples of use:"
Expressions_And_Operators.htm+html.body.div.p:107-5,{ANY_CODE} if (a &lt; b) {do something...}<br /> if (a != b) {do something...}
Expressions_And_Operators.htm+html.body.p:110-3,"<span data-open-text=""true"">Bitwise (|, &amp;, ^, &lt;&lt;, &gt;&gt;)</span><span data-close-text=""true"">Bitwise (|, &amp;, ^, &lt;&lt;, &gt;&gt;)</span>"
Expressions_And_Operators.htm+html.body.div.p:112-5,"<b>|, &amp;, ^, &lt;&lt;, &gt;&gt;</b>: You can perform bitwise operations with these, where | = bitwise or, &amp; = bitwise and, ^ = bitwise xor, &lt;&lt; = shift left, &gt;&gt; = shift right. Examples of use:"
Expressions_And_Operators.htm+html.body.div.p:113-5,{ANY_CODE} x = (x &amp; $ffffffe0) + 32;<br /> if (y ^ $1f) &gt; 0 {do something...};
Expressions_And_Operators.htm+html.body.div.p:114-5,"You can find additional information on how to use the bitwise operators and what they do from the section: <a href=""../../Additional_Information/Bitwise_Operators.htm"">Bitwise Operators</a>."
Expressions_And_Operators.htm+html.body.p:117-3,"<span data-open-text=""true"">Arithmetical (+, -, *, /)</span><span data-close-text=""true"">Arithmetical (+, -, *, /)</span>"
Expressions_And_Operators.htm+html.body.div.p:119-5,"<b>+, -, *, /</b> - Add, subtract, multiply and divide. Examples of use:"
Expressions_And_Operators.htm+html.body.div.p:120-5,"{ANY_CODE} c = a * b;<br /> str = a + ""world"";"
Expressions_And_Operators.htm+html.body.p:123-3,"<span data-open-text=""true"">Increment/Decrement (++, --)</span><span data-close-text=""true"">Increment/Decrement (++, --)</span>"
Expressions_And_Operators.htm+html.body.div.p:125-5,"<strong>++</strong>, <strong>--</strong> : Add or subtract one from a value. It is worth noting that placing this before or after the value to be added to or subtracted from will have slightly different results. For example:"
Expressions_And_Operators.htm+html.body.div.ul.li:127-7,"<span class=""inline"">++a</span> will increment the variable and return the incremented value."
Expressions_And_Operators.htm+html.body.div.ul.li:128-7,"<span class=""inline"">a++</span> will increment the variable but return the value before it was incremented."
Expressions_And_Operators.htm+html.body.div.p:130-5,"Therefore, if you have something like this:"
Expressions_And_Operators.htm+html.body.div.p:131-5,{ANY_CODE} var a = 1;<br /> show_debug_message(string(a++)); <br /> show_debug_message(string(++a));
Expressions_And_Operators.htm+html.body.div.p:134-5,The debug output would be 1 and 3. Here are some examples of use:
Expressions_And_Operators.htm+html.body.div.p:135-5,{ANY_CODE} for (var i = 0; i &lt; 10; i++;)<br /> {nbsp_x1} {nbsp_x1} {<br /> {nbsp_x1} {nbsp_x1} do something...<br /> {nbsp_x1} {nbsp_x1} };
Expressions_And_Operators.htm+html.body.div.p:136-5,{ANY_CODE} if (hit == true)<br /> {nbsp_x1} {nbsp_x1} {<br /> {nbsp_x1} {nbsp_x1} --score;<br /> {nbsp_x1} {nbsp_x1} }
Expressions_And_Operators.htm+html.body.div.p:137-5,"<strong>NOTE</strong>: On the YoYo Compiler target platforms (those marked (YYC)), these expressions are evaluated from left to right, while on all other target platforms they are evaluated from right to left, meaning that this:"
Expressions_And_Operators.htm+html.body.div.p:138-5,"{ANY_CODE} val = max(num, ++num, num++);"
Expressions_And_Operators.htm+html.body.div.p:139-5,will give different results depending on the platform.
Expressions_And_Operators.htm+html.body.p:142-3,"<span data-open-text=""true"">Division and Modulo (div, %, mod)</span><span data-close-text=""true"">Division and Modulo (div, %, mod)</span>"
Expressions_And_Operators.htm+html.body.div.p:144-5,"<strong>div, mod (%)</strong> - Division and modulo, where div gives you the amount a value can be divided into producing only an integer quotient, while mod gives you only the remainder of a division. Note that you can only div or mod using integer values. Examples of use:"
Expressions_And_Operators.htm+html.body.div.p:146-5,{ANY_CODE} secs = time mod 60;<br /> time_str = string(time div 60);
Expressions_And_Operators.htm+html.body.p:149-3,"<span data-open-text=""true"">Unary (!, -, ~)</span><span data-close-text=""true"">Unary (!, -, ~)</span>"
Expressions_And_Operators.htm+html.body.div.p:151-5,"Also, the following <strong>unary</strong> operators exist:"
Expressions_And_Operators.htm+html.body.div.ul.li:153-7,"<strong>!</strong> : boolean ""not"", so <span class=""inline"">!true == false</span>"
Expressions_And_Operators.htm+html.body.div.ul.li:154-7,<strong>-</strong> : negates the next real or integer value (not valid for strings or booleans)
Expressions_And_Operators.htm+html.body.div.ul.li:155-7,<strong>~</strong> : negates the next value bitwise
Expressions_And_Operators.htm+html.body.p:160-3,"As values in all expressions you can use numbers, variables, or functions that return a value, and sub-expressions can be placed between brackets too. All operators work for real number values, but <em>comparisons </em>also work for strings and the ""<strong>+</strong>"" operator can be used to concatenate strings."
Expressions_And_Operators.htm+html.body.p:162-3,"When doing multiple operations in a single expression, it is <b>very important</b> that you use brackets <span class=""inline"">()</span> to separate out the order of operation, as different platforms may perform them differently if not explicitly stated in this way. For example, consider the following code:"
Expressions_And_Operators.htm+html.body.p:164-3,{ANY_CODE} a = b == c || d;
Expressions_And_Operators.htm+html.body.p:165-3,"The different target compilers will perform the operations in different orders since they are not explicitly shown, giving rise to ""odd"" results that you may not expect when you play your game. to avoid this, use the <span class=""inline"">()</span> to separate out the parts, like this:"
Expressions_And_Operators.htm+html.body.p:166-3,{ANY_CODE} a = (b == c || d);{nbsp_x1} {nbsp_x1}//better<br /> a = ((b == c) || d); //best
Expressions_And_Operators.htm+html.body.p:167-3,"Also note that when using various operations and expressions in a single code block, these too should be separated. For example, the following <em>looks</em> like valid code:"
Expressions_And_Operators.htm+html.body.p:168-3,if my_var == your_var ++their_var;
Expressions_And_Operators.htm+html.body.p:169-3,"However, the compiler could interpret this in one of two ways:"
Expressions_And_Operators.htm+html.body.p:170-3,{ANY_CODE} if my_var == your_var++ then{nbsp_x1}their_var;<br /> <br /> // or<br /> <br /> if my_var == your_var then ++their_var;
Expressions_And_Operators.htm+html.body.p:173-3,"Now, you can tell looking at the code that one of those is a bit stupid, but that's because we know what we are wanting to achieve and what we want to happen, but the compiler doesn't. All it sees is two variables with the ++ operator between them so it has to choose which one to apply it to. Therefore, you should <strong>always explicitly bracket expressions, operations and statements</strong>. The correct version of the above code should be:"
Expressions_And_Operators.htm+html.body.p:175-3,{ANY_CODE} if (my_var == your_var)<br /> { <br /> ++their_var; <br /> }
Expressions_And_Operators.htm+html.body.p:179-3,"This may appear more verbose, but there is no ambiguity about the operations being performed and it will compile and behave consistently across all platforms. Also note that while you can chain expressions and statements without the use of brackets at the moment, this is a legacy feature and going forward may be deprecated and removed from GML, so using brackets appropriately now will ""future-proof"" your code (and is generally good practice anyway)."
Expressions_And_Operators.htm+html.body.p:181-3,Here are some final examples of the various different expressions:
Expressions_And_Operators.htm+html.body.p:182-3,"{ANY_CODE} {<br /> x = 23 div 2;<br /> colour = $FFAA00 + $00BB12;<br /> str = ""hello"" + ""world"";<br /> y += 5;<br /> x *= y;<br /> x = y &lt;&lt; 2;<br /> x = 23 * ((2 + 4) / sin(y));<br /> b = (x &lt; 5) &amp;&amp; !((x == 2) || (x == 4));<br /> }"
Expressions_And_Operators.htm+html.body.p:184-3,"One final thing to note is that there are also some expression ""short-cuts"" called <b>accessors</b> for use with certain <a href=""../GML_Reference/Data_Structures/Data_Structures.htm"">Data Structures</a> and <a href=""Arrays.htm"">Arrays</a>. These enable you to add, or replace data within these formats quickly and easily and without the use of any function calls. For full details, please see the following page"
Expressions_And_Operators.htm+html.body.ul.li:187-5,Accessors
Expressions_And_Operators.htm+html.body.div.div.div.div:195-9,"Back: <a href=""GML_Overview.htm"">GML Overview</a>"
Expressions_And_Operators.htm+html.body.div.div.div.div:196-9,"Next: <a href=""Accessors.htm"">Accessors</a>"
Expressions_And_Operators.htm+html.body.p:237-1,{SEARCH_RESULT} Page outlining the different GML expressions
Expressions_And_Operators.htm+html.body.p:237-68,{INDEX_KEYWORD} Expressions And Operators
Expressions_And_Operators.htm+html.body.p:237-116,{INDEX_KEYWORD} &amp;&amp;
Expressions_And_Operators.htm+html.body.p:237-149,{INDEX_KEYWORD} &lt;
Expressions_And_Operators.htm+html.body.p:237-176,{INDEX_KEYWORD} &gt;
Expressions_And_Operators.htm+html.body.p:237-203,{INDEX_KEYWORD} &lt;=
Expressions_And_Operators.htm+html.body.p:237-231,{INDEX_KEYWORD} &gt;=
Expressions_And_Operators.htm+html.body.p:237-259,{INDEX_KEYWORD} &amp;
Expressions_And_Operators.htm+html.body.p:237-287,{INDEX_KEYWORD} &lt;&lt;
Expressions_And_Operators.htm+html.body.p:237-318,{INDEX_KEYWORD} &gt;&gt;
Expressions_And_Operators.htm+html.body.p:237-349,{INDEX_KEYWORD} div
Expressions_And_Operators.htm+html.body.p:237-375,{INDEX_KEYWORD} mod
